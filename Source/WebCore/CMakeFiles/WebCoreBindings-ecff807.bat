@echo off
cd /D C:\WebKit\Source\WebCore || (set FAIL_LINE=2& goto :ABORT)
C:\Strawberry\perl\bin\perl.exe C:/WebKit/Source/WebCore/bindings/scripts/generate-bindings-all.pl --defines "LANGUAGE_JAVASCRIPT  ENABLE_API_TESTS ENABLE_APPLICATION_MANIFEST ENABLE_ATTACHMENT_ELEMENT ENABLE_CONTEXT_MENUS ENABLE_CURSOR_VISIBILITY ENABLE_DARK_MODE_CSS ENABLE_DFG_JIT ENABLE_DRAG_SUPPORT ENABLE_EXPERIMENTAL_FEATURES ENABLE_FTL_JIT ENABLE_FULLSCREEN_API ENABLE_GEOLOCATION ENABLE_GPU_PROCESS ENABLE_IMAGE_DIFF ENABLE_JAVASCRIPT_SHELL ENABLE_JIT ENABLE_LAYOUT_TESTS ENABLE_MATHML ENABLE_MEDIA_STATISTICS ENABLE_MINIBROWSER ENABLE_MOUSE_CURSOR_SCALE ENABLE_NOTIFICATIONS ENABLE_REMOTE_INSPECTOR ENABLE_RESOURCE_USAGE ENABLE_SAMPLING_PROFILER ENABLE_SHAREABLE_RESOURCE ENABLE_UNIFIED_BUILDS ENABLE_USER_MESSAGE_HANDLERS ENABLE_VARIATION_FONTS ENABLE_VIDEO ENABLE_VIDEO_USES_ELEMENT_FULLSCREEN ENABLE_WEBASSEMBLY ENABLE_WEBASSEMBLY_BBQJIT ENABLE_WEBASSEMBLY_OMGJIT ENABLE_WEBDRIVER ENABLE_WEBDRIVER_KEYBOARD_INTERACTIONS ENABLE_WEBDRIVER_MOUSE_INTERACTIONS ENABLE_WEBGL ENABLE_XSLT USE_ISO_MALLOC USE_JPEGXL USE_LCMS USE_SKIA USE_SKIA_ENCODERS USE_WOFF2" --generator JS --outputDir C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources --idlFilesList C:/WebKit/WebKitBuild/Release/Source/WebCore/idl_files_WebCoreBindings.tmp --idlFileNamesList C:/WebKit/WebKitBuild/Release/Source/WebCore/included_idl_files_WebCoreBindings.tmp --ppIDLFilesList C:/WebKit/WebKitBuild/Release/Source/WebCore/pp_idl_files_WebCoreBindings.tmp --preprocessor "\"C:/Dev/LLVM/bin/clang-cl.exe\" /nologo /EP /TP" --idlAttributesFile C:/WebKit/Source/WebCore/bindings/scripts/IDLAttributes.json --supplementalDependencyFile C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/supplemental_dependency.tmp --numOfJobs 16 --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMIsoSubspaces.h --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMClientIsoSubspaces.h --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMConstructors.h --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMWindowConstructors.idl --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/WorkerGlobalScopeConstructors.idl --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/ShadowRealmGlobalScopeConstructors.idl --ppExtraOutput C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DedicatedWorkerGlobalScopeConstructors.idl --ppExtraArgs --isoSubspacesHeaderFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMIsoSubspaces.h --ppExtraArgs --clientISOSubspacesHeaderFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMClientIsoSubspaces.h --ppExtraArgs --constructorsHeaderFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMConstructors.h --ppExtraArgs --windowConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DOMWindowConstructors.idl --ppExtraArgs --workerGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/WorkerGlobalScopeConstructors.idl --ppExtraArgs --shadowRealmGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/ShadowRealmGlobalScopeConstructors.idl --ppExtraArgs --dedicatedWorkerGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/DedicatedWorkerGlobalScopeConstructors.idl --ppExtraArgs --serviceWorkerGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/ServiceWorkerGlobalScopeConstructors.idl --ppExtraArgs --sharedWorkerGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/SharedWorkerGlobalScopeConstructors.idl --ppExtraArgs --workletGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/WorkletGlobalScopeConstructors.idl --ppExtraArgs --paintWorkletGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/PaintWorkletGlobalScopeConstructors.idl --ppExtraArgs --audioWorkletGlobalScopeConstructorsFile --ppExtraArgs C:/WebKit/WebKitBuild/Release/WebCore/DerivedSources/AudioWorkletGlobalScopeConstructors.idl --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/generate-bindings.pl --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/CodeGenerator.pm --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/CodeGeneratorJS.pm --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/IDLParser.pm --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/InFilesParser.pm --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/preprocessor.pm --generatorDependency C:/WebKit/WebKitBuild/Release/cmakeconfig.h --generatorDependency C:/WebKit/WebKitBuild/Release/WTF/Scripts/Preferences/UnifiedWebPreferences.yaml --generatorDependency C:/WebKit/Source/WebCore/bindings/scripts/CodeGeneratorJS.pm || (set FAIL_LINE=3& goto :ABORT)
goto :EOF

:ABORT
set ERROR_CODE=%ERRORLEVEL%
echo Batch file failed at line %FAIL_LINE% with errorcode %ERRORLEVEL%
exit /b %ERROR_CODE%